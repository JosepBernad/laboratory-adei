\documentclass[]{article}
\usepackage{lmodern}
\usepackage{amssymb,amsmath}
\usepackage{ifxetex,ifluatex}
\usepackage{fixltx2e} % provides \textsubscript
\ifnum 0\ifxetex 1\fi\ifluatex 1\fi=0 % if pdftex
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
\else % if luatex or xelatex
  \ifxetex
    \usepackage{mathspec}
  \else
    \usepackage{fontspec}
  \fi
  \defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}
\fi
% use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
% use microtype if available
\IfFileExists{microtype.sty}{%
\usepackage{microtype}
\UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\usepackage[margin=1in]{geometry}
\usepackage{hyperref}
\hypersetup{unicode=true,
            pdftitle={First delivery - ADEI},
            pdfauthor={Àlex Rubio i Josep Bernad},
            pdfborder={0 0 0},
            breaklinks=true}
\urlstyle{same}  % don't use monospace font for urls
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.77,0.63,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\usepackage{graphicx,grffile}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
\IfFileExists{parskip.sty}{%
\usepackage{parskip}
}{% else
\setlength{\parindent}{0pt}
\setlength{\parskip}{6pt plus 2pt minus 1pt}
}
\setlength{\emergencystretch}{3em}  % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{5}
% Redefines (sub)paragraphs to behave more like sections
\ifx\paragraph\undefined\else
\let\oldparagraph\paragraph
\renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
\let\oldsubparagraph\subparagraph
\renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

%%% Use protect on footnotes to avoid problems with footnotes in titles
\let\rmarkdownfootnote\footnote%
\def\footnote{\protect\rmarkdownfootnote}

%%% Change title format to be more compact
\usepackage{titling}

% Create subtitle command for use in maketitle
\newcommand{\subtitle}[1]{
  \posttitle{
    \begin{center}\large#1\end{center}
    }
}

\setlength{\droptitle}{-2em}

  \title{First delivery - ADEI}
    \pretitle{\vspace{\droptitle}\centering\huge}
  \posttitle{\par}
    \author{Àlex Rubio i Josep Bernad}
    \preauthor{\centering\large\emph}
  \postauthor{\par}
      \predate{\centering\large\emph}
  \postdate{\par}
    \date{6 de març de 2019}


\begin{document}
\maketitle

{
\setcounter{tocdepth}{3}
\tableofcontents
}
\section{Presentation}\label{presentation}

\subsection{R Markdowns document}\label{r-markdowns-document}

This is an R Markdown document. We are showing some examples of EDA.
Markdown is a simple formatting syntax for authoring HTML, PDF, and MS
Word documents. For more details on using R Markdown see
\url{http://rmarkdown.rstudio.com}. Use * to provide emphasis such as
\emph{italics} and \textbf{bold}.

Create lists: Unordered * and + or ordered 1. 2.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Item 1
\item
  Item 2

  \begin{itemize}
  \tightlist
  \item
    Item 2a
  \item
    Item 2b
  \end{itemize}
\end{enumerate}

\section{Bank client data}\label{bank-client-data}

\subsection{Description}\label{description}

\emph{Input variables:}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  age (numeric)
\item
  job : type of job (categorical:
  `admin.',`blue-collar',`entrepreneur',`housemaid',`management',`retired',`self-employed',`services',`student',`technician',`unemployed',`unknown')
\item
  marital : marital status (categorical:
  `divorced',`married',`single',`unknown'; note: `divorced' means
  divorced or widowed)
\item
  education
  (categorical:`basic.4y',`basic.6y',`basic.9y',`high.school',`illiterate',`professional.course',`university.degree',`unknown')
\item
  default: has credit in default? (categorical: `no',`yes',`unknown')
\item
  housing: has housing loan? (categorical: `no',`yes',`unknown')
\item
  loan: has personal loan? (categorical: `no',`yes',`unknown')\# related
  with the last contact of the current campaign:
\item
  contact: contact communication type
  (categorical:`cellular',`telephone')
\item
  month: last contact month of year (categorical: `jan', `feb',
  `mar',\ldots{}, `nov', `dec')
\item
  day\_of\_week: last contact day of the week
  (categorical:`mon',`tue',`wed',`thu',`fri')
\item
  duration: last contact duration, in seconds (numeric). Important note:
  this attribute highly affects the output target (e.g., if duration=0
  then y=`no'). Yet, the duration is not known before a call is
  performed. Also, after the end of the call y is obviously known. Thus,
  this input should only be included for benchmark purposes and should
  be discarded if the intention is to have a realistic predictive model.
\item
  campaign: number of contacts performed during this campaign and for
  this client (numeric, includes last contact)
\item
  pdays: number of days that passed by after the client was last
  contacted from a previous campaign (numeric; 999 means client was not
  previously contacted)
\item
  previous: number of contacts performed before this campaign and for
  this client (numeric)
\item
  poutcome: outcome of the previous marketing campaign (categorical:
  `failure',`nonexistent',`success')\# social and economic context
  attributes
\item
  emp.var.rate: employment variation rate - quarterly indicator
  (numeric)
\item
  cons.price.idx: consumer price index - monthly indicator (numeric)
\item
  cons.conf.idx: consumer confidence index - monthly indicator (numeric)
\item
  euribor3m: euribor 3 month rate - daily indicator (numeric)
\item
  nr.employed: number of employees - quarterly indicator (numeric)
\item
  y - has the client subscribed a term deposit? (binary: `yes',`no')
\end{enumerate}

\section{Loading packages}\label{loading-packages}

\section{Loading data}\label{loading-data}

\subsection{Load sample of 5000
records}\label{load-sample-of-5000-records}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{rm}\NormalTok{(}\DataTypeTok{list=}\KeywordTok{ls}\NormalTok{())}
\CommentTok{# Load Required Packages: to be increased over the course}

\CommentTok{#setwd("C:/Users/lmontero/Dropbox/DOCENCIA/FIB-ADEI/PRACTICA/BankMarketing")}
\CommentTok{#setwd("D:/DOCENCIA/FIB-ADEI/PRACTICA/BankMarketing")}

\CommentTok{# Josep}
\KeywordTok{setwd}\NormalTok{(}\StringTok{"/Users/SigmundFreud/Developer/r-studio/laboratory-adei/data-directory"}\NormalTok{)}
\CommentTok{#file_path <- "Users/SigmundFreud/Developer/r-studio/laboratory-adei/data-directory"}

\CommentTok{# Àlex}
\CommentTok{#setwd("/Users/SigmundFreud/Developer/r-studio/laboratory-adei/Data directory")}
\CommentTok{#file_path <- "/Users/SigmundFreud/Developer/r-studio/laboratory-adei/data-directory"}

\CommentTok{#load(paste0("/Users/SigmundFreud/Developer/r-studio/laboratory-adei/data-directory","5000_samples.RData"))}
\KeywordTok{load}\NormalTok{(}\KeywordTok{path.expand}\NormalTok{(}\StringTok{"/Users/SigmundFreud/Developer/r-studio/laboratory-adei/data-directory/5000_samples.RData"}\NormalTok{))}
\CommentTok{#summary(df)}
\end{Highlighting}
\end{Shaded}

\section{Exploratory Data Analysis}\label{exploratory-data-analysis}

\subsection{Create a new factor from an existing
one}\label{create-a-new-factor-from-an-existing-one}

\subsubsection{Month to season}\label{month-to-season}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#Modify factor levels label}
\NormalTok{df}\OperatorTok{$}\NormalTok{month <-}\StringTok{ }\KeywordTok{factor}\NormalTok{(df}\OperatorTok{$}\NormalTok{month, }\DataTypeTok{labels=}\KeywordTok{paste}\NormalTok{(}\StringTok{"Month"}\NormalTok{, }\DataTypeTok{sep=}\StringTok{"-"}\NormalTok{, }\KeywordTok{levels}\NormalTok{(df}\OperatorTok{$}\NormalTok{month)))}
\KeywordTok{summary}\NormalTok{(df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##       age                 job           marital    
##  Min.   :17.00   admin.     :1288   divorced: 546  
##  1st Qu.:32.00   blue-collar:1156   married :3029  
##  Median :38.00   technician : 831   single  :1416  
##  Mean   :39.97   services   : 471   unknown :   9  
##  3rd Qu.:47.00   management : 345                  
##  Max.   :92.00   retired    : 187                  
##                  (Other)    : 722                  
##                education       default        housing          loan     
##  university.degree  :1431   no     :3939   no     :2226   no     :4138  
##  high.school        :1169   unknown:1061   unknown: 112   unknown: 112  
##  basic.9y           : 758   yes    :   0   yes    :2662   yes    : 750  
##  professional.course: 668                                               
##  basic.4y           : 493                                               
##  basic.6y           : 272                                               
##  (Other)            : 209                                               
##       contact           month      day_of_week    duration     
##  cellular :3182   Month-may:1679   fri: 948    Min.   :   4.0  
##  telephone:1818   Month-jul: 907   mon:1017    1st Qu.: 104.0  
##                   Month-aug: 699   thu:1031    Median : 181.0  
##                   Month-jun: 660   tue:1005    Mean   : 263.7  
##                   Month-nov: 502   wed: 999    3rd Qu.: 328.0  
##                   Month-apr: 323               Max.   :3078.0  
##                   (Other)  : 230                               
##     campaign          pdays          previous             poutcome   
##  Min.   : 1.000   Min.   :  0.0   Min.   :0.0000   failure    : 493  
##  1st Qu.: 1.000   1st Qu.:999.0   1st Qu.:0.0000   nonexistent:4315  
##  Median : 2.000   Median :999.0   Median :0.0000   success    : 192  
##  Mean   : 2.647   Mean   :957.9   Mean   :0.1772                     
##  3rd Qu.: 3.000   3rd Qu.:999.0   3rd Qu.:0.0000                     
##  Max.   :42.000   Max.   :999.0   Max.   :5.0000                     
##                                                                      
##   emp.var.rate     cons.price.idx  cons.conf.idx      euribor3m    
##  Min.   :-3.4000   Min.   :92.20   Min.   :-50.80   Min.   :0.634  
##  1st Qu.:-1.8000   1st Qu.:93.08   1st Qu.:-42.70   1st Qu.:1.344  
##  Median : 1.1000   Median :93.88   Median :-41.80   Median :4.857  
##  Mean   : 0.1029   Mean   :93.58   Mean   :-40.59   Mean   :3.641  
##  3rd Qu.: 1.4000   3rd Qu.:93.99   3rd Qu.:-36.40   3rd Qu.:4.961  
##  Max.   : 1.4000   Max.   :94.77   Max.   :-26.90   Max.   :5.045  
##                                                                    
##   nr.employed     y       
##  Min.   :4964   no :4416  
##  1st Qu.:5099   yes: 584  
##  Median :5191             
##  Mean   :5168             
##  3rd Qu.:5228             
##  Max.   :5228             
## 
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\KeywordTok{table}\NormalTok{(df}\OperatorTok{$}\NormalTok{month)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
## Month-apr Month-aug Month-dec Month-jul Month-jun Month-mar Month-may 
##       323       699        19       907       660        66      1679 
## Month-nov Month-oct Month-sep 
##       502        79        66
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Define new factor categories: 1-Spring | 2-Summer | 3-Resta}
\NormalTok{df}\OperatorTok{$}\NormalTok{f.season <-}\StringTok{ }\DecValTok{3}

\CommentTok{# 1 level - spring }
\NormalTok{sel<-}\KeywordTok{which}\NormalTok{(df}\OperatorTok{$}\NormalTok{month }\OperatorTok{%in%}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Month-mar"}\NormalTok{,}\StringTok{"Month-apr"}\NormalTok{,}\StringTok{"Month-may"}\NormalTok{))}
\NormalTok{df}\OperatorTok{$}\NormalTok{f.season[sel] <-}\DecValTok{1}

\CommentTok{# 2 level - Summer }
\NormalTok{sel<-}\KeywordTok{which}\NormalTok{(df}\OperatorTok{$}\NormalTok{month }\OperatorTok{%in%}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Month-jun"}\NormalTok{,}\StringTok{"Month-jul"}\NormalTok{,}\StringTok{"Month-aug"}\NormalTok{))}
\NormalTok{df}\OperatorTok{$}\NormalTok{f.season[sel] <-}\DecValTok{2}

\KeywordTok{table}\NormalTok{(df}\OperatorTok{$}\NormalTok{f.season);}\KeywordTok{summary}\NormalTok{(df}\OperatorTok{$}\NormalTok{f.season)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##    1    2    3 
## 2068 2266  666
\end{verbatim}

\begin{verbatim}
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##    1.00    1.00    2.00    1.72    2.00    3.00
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df}\OperatorTok{$}\NormalTok{f.season<-}\KeywordTok{factor}\NormalTok{(df}\OperatorTok{$}\NormalTok{f.season,}\DataTypeTok{levels=}\DecValTok{1}\OperatorTok{:}\DecValTok{3}\NormalTok{,}\DataTypeTok{labels=}\KeywordTok{c}\NormalTok{(}\StringTok{"Spring"}\NormalTok{,}\StringTok{"Summer"}\NormalTok{,}\StringTok{"Aut-Win"}\NormalTok{))}
\KeywordTok{summary}\NormalTok{(df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##       age                 job           marital    
##  Min.   :17.00   admin.     :1288   divorced: 546  
##  1st Qu.:32.00   blue-collar:1156   married :3029  
##  Median :38.00   technician : 831   single  :1416  
##  Mean   :39.97   services   : 471   unknown :   9  
##  3rd Qu.:47.00   management : 345                  
##  Max.   :92.00   retired    : 187                  
##                  (Other)    : 722                  
##                education       default        housing          loan     
##  university.degree  :1431   no     :3939   no     :2226   no     :4138  
##  high.school        :1169   unknown:1061   unknown: 112   unknown: 112  
##  basic.9y           : 758   yes    :   0   yes    :2662   yes    : 750  
##  professional.course: 668                                               
##  basic.4y           : 493                                               
##  basic.6y           : 272                                               
##  (Other)            : 209                                               
##       contact           month      day_of_week    duration     
##  cellular :3182   Month-may:1679   fri: 948    Min.   :   4.0  
##  telephone:1818   Month-jul: 907   mon:1017    1st Qu.: 104.0  
##                   Month-aug: 699   thu:1031    Median : 181.0  
##                   Month-jun: 660   tue:1005    Mean   : 263.7  
##                   Month-nov: 502   wed: 999    3rd Qu.: 328.0  
##                   Month-apr: 323               Max.   :3078.0  
##                   (Other)  : 230                               
##     campaign          pdays          previous             poutcome   
##  Min.   : 1.000   Min.   :  0.0   Min.   :0.0000   failure    : 493  
##  1st Qu.: 1.000   1st Qu.:999.0   1st Qu.:0.0000   nonexistent:4315  
##  Median : 2.000   Median :999.0   Median :0.0000   success    : 192  
##  Mean   : 2.647   Mean   :957.9   Mean   :0.1772                     
##  3rd Qu.: 3.000   3rd Qu.:999.0   3rd Qu.:0.0000                     
##  Max.   :42.000   Max.   :999.0   Max.   :5.0000                     
##                                                                      
##   emp.var.rate     cons.price.idx  cons.conf.idx      euribor3m    
##  Min.   :-3.4000   Min.   :92.20   Min.   :-50.80   Min.   :0.634  
##  1st Qu.:-1.8000   1st Qu.:93.08   1st Qu.:-42.70   1st Qu.:1.344  
##  Median : 1.1000   Median :93.88   Median :-41.80   Median :4.857  
##  Mean   : 0.1029   Mean   :93.58   Mean   :-40.59   Mean   :3.641  
##  3rd Qu.: 1.4000   3rd Qu.:93.99   3rd Qu.:-36.40   3rd Qu.:4.961  
##  Max.   : 1.4000   Max.   :94.77   Max.   :-26.90   Max.   :5.045  
##                                                                    
##   nr.employed     y           f.season   
##  Min.   :4964   no :4416   Spring :2068  
##  1st Qu.:5099   yes: 584   Summer :2266  
##  Median :5191              Aut-Win: 666  
##  Mean   :5168                            
##  3rd Qu.:5228                            
##  Max.   :5228                            
## 
\end{verbatim}

\subsubsection{Job -\textgreater{} self-employed, worker,
other}\label{job---self-employed-worker-other}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#Modify factor levels label}
\NormalTok{df}\OperatorTok{$}\NormalTok{job <-}\StringTok{ }\KeywordTok{factor}\NormalTok{(df}\OperatorTok{$}\NormalTok{job, }\DataTypeTok{labels=}\KeywordTok{paste}\NormalTok{(}\StringTok{"Job"}\NormalTok{, }\DataTypeTok{sep=}\StringTok{"-"}\NormalTok{, }\KeywordTok{levels}\NormalTok{(df}\OperatorTok{$}\NormalTok{job)))}

\KeywordTok{table}\NormalTok{(df}\OperatorTok{$}\NormalTok{job)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##        Job-admin.   Job-blue-collar  Job-entrepreneur     Job-housemaid 
##              1288              1156               181               132 
##    Job-management       Job-retired Job-self-employed      Job-services 
##               345               187               152               471 
##       Job-student    Job-technician    Job-unemployed       Job-unknown 
##               100               831               114                43
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Define new factor categories: 1-selfemployed | 2-worker | 3-other}
\NormalTok{df}\OperatorTok{$}\NormalTok{f.jobsituation<-}\DecValTok{3}

\CommentTok{# 1 level - self-employed}
\NormalTok{sel<-}\KeywordTok{which}\NormalTok{(df}\OperatorTok{$}\NormalTok{job }\OperatorTok{%in%}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Job-entrepreneur"}\NormalTok{,}\StringTok{"Job-housemaid"}\NormalTok{,}\StringTok{"Job-self-employed"}\NormalTok{))}
\NormalTok{df}\OperatorTok{$}\NormalTok{f.jobsituation[sel] <-}\StringTok{ }\DecValTok{1}

\CommentTok{# 2 level - worker}
\NormalTok{sel<-}\KeywordTok{which}\NormalTok{(df}\OperatorTok{$}\NormalTok{job }\OperatorTok{%in%}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Job-admin"}\NormalTok{,}\StringTok{"Job-blue-collar"}\NormalTok{,}\StringTok{"Job-management"}\NormalTok{,}\StringTok{"Job-services"}\NormalTok{,}\StringTok{"Job-technician"}\NormalTok{))}
\NormalTok{df}\OperatorTok{$}\NormalTok{f.jobsituation[sel] <-}\StringTok{ }\DecValTok{2}

\KeywordTok{table}\NormalTok{(df}\OperatorTok{$}\NormalTok{f.jobsituation);}\KeywordTok{summary}\NormalTok{(df}\OperatorTok{$}\NormalTok{f.jobsituation)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##    1    2    3 
##  465 2803 1732
\end{verbatim}

\begin{verbatim}
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   1.000   2.000   2.000   2.253   3.000   3.000
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df}\OperatorTok{$}\NormalTok{f.jobsituation<-}\KeywordTok{factor}\NormalTok{(df}\OperatorTok{$}\NormalTok{f.jobsituation,}\DataTypeTok{levels=}\DecValTok{1}\OperatorTok{:}\DecValTok{3}\NormalTok{,}\DataTypeTok{labels=}\KeywordTok{c}\NormalTok{(}\StringTok{"Self-employed"}\NormalTok{,}\StringTok{"Worker"}\NormalTok{,}\StringTok{"Other"}\NormalTok{))}
\KeywordTok{summary}\NormalTok{(df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##       age                     job           marital    
##  Min.   :17.00   Job-admin.     :1288   divorced: 546  
##  1st Qu.:32.00   Job-blue-collar:1156   married :3029  
##  Median :38.00   Job-technician : 831   single  :1416  
##  Mean   :39.97   Job-services   : 471   unknown :   9  
##  3rd Qu.:47.00   Job-management : 345                  
##  Max.   :92.00   Job-retired    : 187                  
##                  (Other)        : 722                  
##                education       default        housing          loan     
##  university.degree  :1431   no     :3939   no     :2226   no     :4138  
##  high.school        :1169   unknown:1061   unknown: 112   unknown: 112  
##  basic.9y           : 758   yes    :   0   yes    :2662   yes    : 750  
##  professional.course: 668                                               
##  basic.4y           : 493                                               
##  basic.6y           : 272                                               
##  (Other)            : 209                                               
##       contact           month      day_of_week    duration     
##  cellular :3182   Month-may:1679   fri: 948    Min.   :   4.0  
##  telephone:1818   Month-jul: 907   mon:1017    1st Qu.: 104.0  
##                   Month-aug: 699   thu:1031    Median : 181.0  
##                   Month-jun: 660   tue:1005    Mean   : 263.7  
##                   Month-nov: 502   wed: 999    3rd Qu.: 328.0  
##                   Month-apr: 323               Max.   :3078.0  
##                   (Other)  : 230                               
##     campaign          pdays          previous             poutcome   
##  Min.   : 1.000   Min.   :  0.0   Min.   :0.0000   failure    : 493  
##  1st Qu.: 1.000   1st Qu.:999.0   1st Qu.:0.0000   nonexistent:4315  
##  Median : 2.000   Median :999.0   Median :0.0000   success    : 192  
##  Mean   : 2.647   Mean   :957.9   Mean   :0.1772                     
##  3rd Qu.: 3.000   3rd Qu.:999.0   3rd Qu.:0.0000                     
##  Max.   :42.000   Max.   :999.0   Max.   :5.0000                     
##                                                                      
##   emp.var.rate     cons.price.idx  cons.conf.idx      euribor3m    
##  Min.   :-3.4000   Min.   :92.20   Min.   :-50.80   Min.   :0.634  
##  1st Qu.:-1.8000   1st Qu.:93.08   1st Qu.:-42.70   1st Qu.:1.344  
##  Median : 1.1000   Median :93.88   Median :-41.80   Median :4.857  
##  Mean   : 0.1029   Mean   :93.58   Mean   :-40.59   Mean   :3.641  
##  3rd Qu.: 1.4000   3rd Qu.:93.99   3rd Qu.:-36.40   3rd Qu.:4.961  
##  Max.   : 1.4000   Max.   :94.77   Max.   :-26.90   Max.   :5.045  
##                                                                    
##   nr.employed     y           f.season          f.jobsituation
##  Min.   :4964   no :4416   Spring :2068   Self-employed: 465  
##  1st Qu.:5099   yes: 584   Summer :2266   Worker       :2803  
##  Median :5191              Aut-Win: 666   Other        :1732  
##  Mean   :5168                                                 
##  3rd Qu.:5228                                                 
##  Max.   :5228                                                 
## 
\end{verbatim}

\subsubsection{education -\textgreater{} mandatory, nonmandatory,
other}\label{education---mandatory-nonmandatory-other}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{#Modify factor levels label}
\NormalTok{df}\OperatorTok{$}\NormalTok{education <-}\StringTok{ }\KeywordTok{factor}\NormalTok{(df}\OperatorTok{$}\NormalTok{education, }\DataTypeTok{labels=}\KeywordTok{paste}\NormalTok{(}\StringTok{"Edu"}\NormalTok{, }\DataTypeTok{sep=}\StringTok{"-"}\NormalTok{, }\KeywordTok{levels}\NormalTok{(df}\OperatorTok{$}\NormalTok{education)))}

\KeywordTok{table}\NormalTok{(df}\OperatorTok{$}\NormalTok{education)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##            Edu-basic.4y            Edu-basic.6y            Edu-basic.9y 
##                     493                     272                     758 
##         Edu-high.school          Edu-illiterate Edu-professional.course 
##                    1169                       2                     668 
##   Edu-university.degree             Edu-unknown 
##                    1431                     207
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{# Define new factor categories: 1-mandatory | 2-nonmandatory | 3-other}
\NormalTok{df}\OperatorTok{$}\NormalTok{f.education<-}\DecValTok{3}

\CommentTok{# 1 level - mandatory}
\NormalTok{sel<-}\KeywordTok{which}\NormalTok{(df}\OperatorTok{$}\NormalTok{education }\OperatorTok{%in%}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Edu-basic.4y"}\NormalTok{,}\StringTok{"Edu-basic.6y"}\NormalTok{, }\StringTok{"Edu-basic.9y"}\NormalTok{, }\StringTok{"Edu-high.school"}\NormalTok{))}
\NormalTok{df}\OperatorTok{$}\NormalTok{f.education[sel] <-}\StringTok{ }\DecValTok{1}

\CommentTok{# 2 level - nonmandatory}
\NormalTok{sel<-}\KeywordTok{which}\NormalTok{(df}\OperatorTok{$}\NormalTok{education }\OperatorTok{%in%}\StringTok{ }\KeywordTok{c}\NormalTok{(}\StringTok{"Edu-professional.course"}\NormalTok{,}\StringTok{"Edu-university.degree"}\NormalTok{))}
\NormalTok{df}\OperatorTok{$}\NormalTok{f.education[sel] <-}\StringTok{ }\DecValTok{2}

\KeywordTok{table}\NormalTok{(df}\OperatorTok{$}\NormalTok{f.education);}\KeywordTok{summary}\NormalTok{(df}\OperatorTok{$}\NormalTok{f.education)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## 
##    1    2    3 
## 2692 2099  209
\end{verbatim}

\begin{verbatim}
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##   1.000   1.000   1.000   1.503   2.000   3.000
\end{verbatim}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df}\OperatorTok{$}\NormalTok{f.education<-}\KeywordTok{factor}\NormalTok{(df}\OperatorTok{$}\NormalTok{f.education,}\DataTypeTok{levels=}\DecValTok{1}\OperatorTok{:}\DecValTok{3}\NormalTok{,}\DataTypeTok{labels=}\KeywordTok{c}\NormalTok{(}\StringTok{"Mandatory"}\NormalTok{,}\StringTok{"Non-Mandatory"}\NormalTok{,}\StringTok{"Other"}\NormalTok{))}
\KeywordTok{summary}\NormalTok{(df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
##       age                     job           marital    
##  Min.   :17.00   Job-admin.     :1288   divorced: 546  
##  1st Qu.:32.00   Job-blue-collar:1156   married :3029  
##  Median :38.00   Job-technician : 831   single  :1416  
##  Mean   :39.97   Job-services   : 471   unknown :   9  
##  3rd Qu.:47.00   Job-management : 345                  
##  Max.   :92.00   Job-retired    : 187                  
##                  (Other)        : 722                  
##                    education       default        housing    
##  Edu-university.degree  :1431   no     :3939   no     :2226  
##  Edu-high.school        :1169   unknown:1061   unknown: 112  
##  Edu-basic.9y           : 758   yes    :   0   yes    :2662  
##  Edu-professional.course: 668                                
##  Edu-basic.4y           : 493                                
##  Edu-basic.6y           : 272                                
##  (Other)                : 209                                
##       loan           contact           month      day_of_week
##  no     :4138   cellular :3182   Month-may:1679   fri: 948   
##  unknown: 112   telephone:1818   Month-jul: 907   mon:1017   
##  yes    : 750                    Month-aug: 699   thu:1031   
##                                  Month-jun: 660   tue:1005   
##                                  Month-nov: 502   wed: 999   
##                                  Month-apr: 323              
##                                  (Other)  : 230              
##     duration         campaign          pdays          previous     
##  Min.   :   4.0   Min.   : 1.000   Min.   :  0.0   Min.   :0.0000  
##  1st Qu.: 104.0   1st Qu.: 1.000   1st Qu.:999.0   1st Qu.:0.0000  
##  Median : 181.0   Median : 2.000   Median :999.0   Median :0.0000  
##  Mean   : 263.7   Mean   : 2.647   Mean   :957.9   Mean   :0.1772  
##  3rd Qu.: 328.0   3rd Qu.: 3.000   3rd Qu.:999.0   3rd Qu.:0.0000  
##  Max.   :3078.0   Max.   :42.000   Max.   :999.0   Max.   :5.0000  
##                                                                    
##         poutcome     emp.var.rate     cons.price.idx  cons.conf.idx   
##  failure    : 493   Min.   :-3.4000   Min.   :92.20   Min.   :-50.80  
##  nonexistent:4315   1st Qu.:-1.8000   1st Qu.:93.08   1st Qu.:-42.70  
##  success    : 192   Median : 1.1000   Median :93.88   Median :-41.80  
##                     Mean   : 0.1029   Mean   :93.58   Mean   :-40.59  
##                     3rd Qu.: 1.4000   3rd Qu.:93.99   3rd Qu.:-36.40  
##                     Max.   : 1.4000   Max.   :94.77   Max.   :-26.90  
##                                                                       
##    euribor3m      nr.employed     y           f.season   
##  Min.   :0.634   Min.   :4964   no :4416   Spring :2068  
##  1st Qu.:1.344   1st Qu.:5099   yes: 584   Summer :2266  
##  Median :4.857   Median :5191              Aut-Win: 666  
##  Mean   :3.641   Mean   :5168                            
##  3rd Qu.:4.961   3rd Qu.:5228                            
##  Max.   :5.045   Max.   :5228                            
##                                                          
##        f.jobsituation        f.education  
##  Self-employed: 465   Mandatory    :2692  
##  Worker       :2803   Non-Mandatory:2099  
##  Other        :1732   Other        : 209  
##                                           
##                                           
##                                           
## 
\end{verbatim}


\end{document}
